<div *ngIf="!isCompleted; else completedBlock" class="word-image-captcha-container">
  <p>Type the text you see below:</p>
  <canvas #canvas width="220" height="70"></canvas>
  <div class="input-group">
    <input
      [(ngModel)]="userInput"
      (ngModelChange)="onInputChange()"
      placeholder="Enter letters / numbers"
      [class.invalid-input]="!isInputValid() && userInput.length > 0"
      [disabled]="tries >= 3"
      autocomplete="off"
    />
    <button
      (click)="verifyWordImageCaptcha()"
      [disabled]="!isInputValid() || tries >= 3"
    >
      Submit
    </button>
  </div>
  <div *ngIf="captchaError" class="error-message">{{ captchaError }}</div>
</div>
<ng-template #completedBlock>
  <div class="word-image-captcha-completed">
    <span>âœ… Captcha completed!</span>
  </div>
</ng-template>
